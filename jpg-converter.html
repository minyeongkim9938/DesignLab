<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이미지 변환기 - 온라인 이미지 포맷 변환</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/converter.css">
</head>
<body>
    <!-- 공통 네비게이션 컴포넌트 -->
    <div id="nav-placeholder"></div>

    <div class="container">
        <header>
            <h1>🔄 이미지 변환기</h1>
            <p>다양한 이미지 포맷을 원하는 형식으로 변환하세요</p>
        </header>

        <main>
            <!-- 업로드 영역 -->
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">📤</div>
                    <h3>이미지를 드래그하거나 클릭하여 업로드</h3>
                    <p>JPG, PNG, GIF, WEBP, BMP 등 지원 (여러 파일 동시 업로드 가능)</p>
                    <input type="file" id="fileInput" accept="image/*" multiple hidden>
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        파일 선택
                    </button>
                </div>
            </div>

            <!-- 변환 설정 -->
            <div class="settings-section">
                <h3>변환 설정</h3>
                <div class="format-selector">
                    <label for="outputFormat">출력 포맷 선택:</label>
                    <select id="outputFormat" class="format-select">
                        <option value="jpg">JPG (JPEG)</option>
                        <option value="png">PNG</option>
                        <option value="webp">WEBP</option>
                        <option value="gif">GIF</option>
                        <option value="bmp">BMP</option>
                    </select>
                </div>
                <div class="quality-control" id="qualityControl">
                    <label for="qualitySlider">품질: <span id="qualityValue">90</span>%</label>
                    <input type="range" id="qualitySlider" min="10" max="100" value="90">
                    <div class="quality-hint">
                        <span>낮음 (10%)</span>
                        <span>높음 (100%)</span>
                    </div>
                    <p class="quality-note">※ JPG, WEBP 포맷만 품질 조절이 가능합니다.</p>
                </div>
            </div>

            <!-- 파일 목록 -->
            <div class="files-section" id="filesSection" style="display: none;">
                <div class="files-header">
                    <h3>변환할 파일 (<span id="fileCount">0</span>개)</h3>
                    <button class="btn btn-secondary btn-small" id="clearAllBtn">전체 삭제</button>
                </div>
                <div class="files-list" id="filesList"></div>
                <div class="batch-actions">
                    <button class="btn btn-primary" id="convertAllBtn">모두 변환</button>
                    <button class="btn btn-secondary" id="downloadAllBtn" style="display: none;">모두 다운로드</button>
                </div>
            </div>
        </main>

        <!-- 페이지 설명 섹션 -->
        <section class="page-description">
            <div class="description-header">
                <h2>📖 사용법 안내</h2>
                <button class="toggle-btn" id="toggleDescription">
                    <span class="toggle-icon">▼</span>
                </button>
            </div>
            <div class="description-content" id="descriptionContent">
                <div class="description-section">
                    <h3>🎯 주요 기능</h3>
                    <ul>
                        <li><strong>다중 파일 변환:</strong> 여러 이미지 파일을 한 번에 업로드하고 변환할 수 있습니다.</li>
                        <li><strong>다양한 포맷 지원:</strong> JPG, PNG, WEBP, GIF, BMP 등 다양한 이미지 포맷으로 변환할 수 있습니다.</li>
                        <li><strong>출력 포맷 선택:</strong> 원하는 출력 포맷을 선택하여 변환할 수 있습니다.</li>
                        <li><strong>품질 조절:</strong> JPG, WEBP 포맷의 경우 품질을 10%부터 100%까지 조절할 수 있습니다.</li>
                        <li><strong>개별/일괄 변환:</strong> 파일을 개별적으로 변환하거나 모두 한 번에 변환할 수 있습니다.</li>
                        <li><strong>일괄 다운로드:</strong> 변환된 모든 파일을 한 번에 다운로드할 수 있습니다.</li>
                        <li><strong>실시간 미리보기:</strong> 업로드한 이미지의 미리보기를 확인할 수 있습니다.</li>
                    </ul>
                </div>
                <div class="description-section">
                    <h3>📝 사용 방법</h3>
                    <ol>
                        <li><strong>파일 업로드:</strong>
                            <ul>
                                <li>드래그 앤 드롭: 이미지 파일을 업로드 영역으로 드래그하여 놓습니다.</li>
                                <li>파일 선택: "파일 선택" 버튼을 클릭하여 여러 파일을 동시에 선택합니다.</li>
                                <li>여러 파일을 한 번에 업로드할 수 있습니다.</li>
                            </ul>
                        </li>
                        <li><strong>출력 포맷 선택:</strong> 드롭다운 메뉴에서 원하는 출력 포맷을 선택합니다 (JPG, PNG, WEBP, GIF, BMP).
                        </li>
                        <li><strong>품질 설정:</strong> JPG 또는 WEBP 포맷을 선택한 경우, 슬라이더를 사용하여 품질을 설정합니다.
                            <ul>
                                <li>낮은 품질 (10-50%): 파일 크기가 작지만 화질이 낮습니다.</li>
                                <li>중간 품질 (50-80%): 파일 크기와 화질의 균형이 좋습니다.</li>
                                <li>높은 품질 (80-100%): 화질이 우수하지만 파일 크기가 큽니다.</li>
                            </ul>
                        </li>
                        <li><strong>변환 실행:</strong>
                            <ul>
                                <li>개별 변환: 각 파일의 "변환" 버튼을 클릭하여 개별적으로 변환합니다.</li>
                                <li>일괄 변환: "모두 변환" 버튼을 클릭하여 모든 파일을 한 번에 변환합니다.</li>
                            </ul>
                        </li>
                        <li><strong>다운로드:</strong>
                            <ul>
                                <li>개별 다운로드: 변환 완료된 파일의 "다운로드" 버튼을 클릭합니다.</li>
                                <li>일괄 다운로드: "모두 다운로드" 버튼을 클릭하여 모든 변환된 파일을 한 번에 다운로드합니다.</li>
                            </ul>
                        </li>
                        <li><strong>파일 관리:</strong>
                            <ul>
                                <li>개별 삭제: 각 파일의 "삭제" 버튼을 클릭하여 해당 파일을 제거합니다.</li>
                                <li>전체 삭제: "전체 삭제" 버튼을 클릭하여 모든 파일을 제거합니다.</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                <div class="description-section">
                    <h3>💡 팁</h3>
                    <ul>
                        <li>선택한 출력 포맷과 같은 포맷의 파일은 자동으로 제외됩니다.</li>
                        <li>JPG, WEBP 포맷은 품질 조절이 가능하며, 90%로 설정하면 파일 크기와 화질의 좋은 균형을 얻을 수 있습니다.</li>
                        <li>웹용 이미지는 JPG나 WEBP를 70-80% 품질로 설정하면 적절한 파일 크기를 유지할 수 있습니다.</li>
                        <li>투명 배경이 필요한 경우 PNG 포맷을 선택하세요.</li>
                        <li>인쇄용 이미지는 JPG를 95-100% 품질로 권장합니다.</li>
                        <li>변환 상태는 실시간으로 표시되며, 완료되면 자동으로 다운로드 버튼이 활성화됩니다.</li>
                    </ul>
                </div>
                <div class="description-section">
                    <h3>📋 지원 포맷</h3>
                    <p><strong>입력 포맷:</strong> JPG, PNG, GIF, WEBP, BMP, TIFF 등 모든 이미지 포맷</p>
                    <p><strong>출력 포맷:</strong> JPG, PNG, WEBP, GIF, BMP</p>
                    <p><strong>참고:</strong></p>
                    <ul>
                        <li>투명 배경이 있는 PNG 파일을 JPG, WEBP, BMP로 변환 시 흰색 배경으로 변환됩니다.</li>
                        <li>GIF 애니메이션은 정적 이미지로 변환됩니다.</li>
                        <li>품질 조절은 JPG와 WEBP 포맷만 지원됩니다.</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <!-- 공통 푸터 컴포넌트 -->
    <div id="footer-placeholder"></div>

    <script src="assets/js/nav.js"></script>
    <script src="assets/js/footer.js"></script>
    <script src="assets/js/jpg-converter.js"></script>
</body>
</html>
